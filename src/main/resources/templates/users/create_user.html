<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Chat board | Registration Page</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" th:href="@{non_login/css/bootstrap-3.3.7-dist/css/bootstrap.min.css}">
    <!-- Font Awesome -->
    <link rel="stylesheet" th:href="@{non_login/asset/adminlte2.4.5/bower_components/font-awesome/css/font-awesome.min.css}">
    <!-- Ionicons -->
    <link rel="stylesheet" th:href="@{non_login/asset/adminlte2.4.5/bower_components/Ionicons/css/ionicons.min.css}">
    <!-- Theme style -->
    <link rel="stylesheet" th:href="@{non_login/asset/adminlte2.4.5/dist/css/AdminLTE.min.css}">
    <!-- iCheck -->
    <link rel="stylesheet" th:href="@{non_login/asset/adminlte2.4.5/plugins/iCheck/square/blue.css}">
    <!-- jQuery-ui -->
    <link rel="stylesheet" th:href="@{non_login/asset/js/jquery-ui/jquery-ui.min.css}">
    <!-- jQuery-ui structure -->
    <link rel="stylesheet" th:href="@{non_login/asset/js/jquery-ui/jquery-ui.structure.min.css}">
    <!-- jQuery-ui theme -->
    <link rel="stylesheet" th:href="@{non_login/asset/js/jquery-ui/jquery-ui.theme.min.css}">
    <!-- Placeholder for date input -->
    <style>
    .dateclass {
        width: 100%;
    }
    .dateclass.placeholderclass::before {
        width: 100%;
        content: attr(placeholder);
        color: #999;
    }
    .dateclass.placeholderclass:hover::before {
        width: 0%;
        content: "";
    }
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
  </head>
  <body class="hold-transition register-page">
    <div class="register-box">
      <div class="register-logo">
        <a href="/index"><b>Chat</b>board</a>
      </div>

      <div class="register-box-body">
        <p class="login-box-msg">Register a new membership</p>

        <form action="/create_user" method="post" th:object="${user}">
          <div class="form-group" th:classappend="${#fields.hasErrors('name') ? 'has-error' : 'has-feedback'}">
            <input type="text" class="form-control" placeholder="Full name" th:field="*{name}">
            <span class="glyphicon glyphicon-user form-control-feedback"></span>
            <span th:if= "${#fields.hasErrors('name')}" class="help-block" th:errors="*{name}"></span>
          </div>
          <div class="form-group" th:classappend="${#fields.hasErrors('email') ? 'has-error' : 'has-feedback'}">
            <input type="email" class="form-control" placeholder="Email" th:field="*{email}">
            <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
            <span th:if= "${#fields.hasErrors('email')}" class="help-block" th:errors="*{email}"></span>
          </div>
          <div class="form-group" th:classappend="${#fields.hasErrors('birth') ? 'has-error' : 'has-feedback'}">
            <input type="date" class="form-control"
                th:classappend="${user.birth != null ? '' : 'dateclass placeholderclass'}"
                placeholder="Birth date" th:field="*{birth}" onClick="$(this).removeClass('placeholderclass')">
            <span class="glyphicon glyphicon-calendar form-control-feedback"></span>
            <span th:if= "${#fields.hasErrors('birth')}" class="help-block" th:errors="*{birth}"></span>
          </div>
          <div class="form-group" th:classappend="${#fields.hasErrors('password') ? 'has-error' : 'has-feedback'}">
            <input type="password" class="form-control" placeholder="Password" th:field="*{password}">
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
            <span th:if= "${#fields.hasErrors('password')}" class="help-block" th:errors="*{password}"></span>
          </div>
          <div class="form-group" th:classappend="${#fields.hasErrors('passwordConfirm') ? 'has-error' : 'has-feedback'}">
            <input type="password" class="form-control" placeholder="Retype password" th:field="*{passwordConfirm}">
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
            <span th:if= "${#fields.hasErrors('passwordConfirm')}" class="help-block" th:errors="*{passwordConfirm}"></span>
          </div>
          <div class="row">
            <div class="col-xs-8">
              <div class="checkbox icheck">
                <label>
                  <input type="checkbox" name="agreesTerm"> I agree to the <a href="#modalOpen" class="modalOpen" >terms</a>
                </label>
                <div class="form-group" th:classappend="${#fields.hasErrors('agreesTerm') ? 'has-error' : 'has-feedback'}">
                  <span th:if= "${#fields.hasErrors('agreesTerm')}" class="help-block" th:errors="*{agreesTerm}"></span>
                </div>
              </div>
            </div>
            <!-- /.col -->
            <div class="col-xs-4">
              <button type="submit" class="btn btn-primary btn-block btn-flat">Register</button>
            </div>
            <!-- /.col -->
          </div>
        </form>
        <div id="modal" style="display:none;">
            <div class="modalInner">
              (Citation from Wikipedia)<br/>
              Terms of service (also known as terms of use and terms and conditions, commonly abbreviated as TOS or ToS and ToU) are rules by which one must agree to abide in order to use a service. Terms of service can also be merely a disclaimer, especially regarding the use of websites.<br/>
              Usage<br/>
              The Terms of Service Agreement is mainly used for legal purposes by companies which provide software or services, such as browsers, e-commerce, search engines, social media, and transport services.
              A legitimate terms-of-service agreement is legally binding and may be subject to change. Companies can enforce the terms by refusing service. Customers can enforce by filing a suit or arbitration case if they can show they were actually harmed by a breach of the terms. There is a heightened risk of data going astray during corporate changes, including mergers, divestitures, buyouts, downsizing, etc., when data can be transferred improperly.
            </div>
        </div>
        <!-- <div class="social-auth-links text-center">
          <p>- OR -</p>
          <a href="#" class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign up using
            Facebook</a>
          <a href="#" class="btn btn-block btn-social btn-google btn-flat"><i class="fa fa-google-plus"></i> Sign up using
            Google+</a>
        </div> -->
        <a href="/login" class="text-center">I already have a membership</a>
      </div>
      <!-- /.form-box -->
    </div>
    <!-- /.register-box -->

    <!-- jQuery 3 -->
    <script th:src="@{non_login/asset/js/jquery/jquery3.3.1.min.js}"></script>
    <!-- jQuery UI -->
    <script th:src="@{non_login/asset/js/jquery-ui/jquery-ui.min.js}"></script>
    <!-- Bootstrap 3.3.7 -->
    <script th:src="@{non_login/asset/adminlte2.4.5/bower_components/bootstrap/dist/js/bootstrap.min.js}"></script>
    <!-- iCheck -->
    <script th:src="@{non_login/asset/adminlte2.4.5/plugins/iCheck/icheck.min.js}"></script>
    <script>
      var windowWidth = $(window).width();
      $(window).on('resize', function() {
          windowWidth = $(window).width();
      });
      $(function () {
        $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%' /* optional */
        });
        modal = $("#modal").dialog({
            autoOpen: false,
            //Use the following line to hide the x button to close.
            open:function(event,ui){
              $(".ui-dialog-titlebar").hide();
              $(".ui-dialog-titlebar-close").hide();
              $('.ui-widget-overlay').on('click',function(){
                  modal.dialog('close');
              });
            },
            modal: true,
            draggable: false,
            show: "fade",
            hide: "fade",
            closeOnEscape: true,
            buttons:{
                "Close":function(){
                    $(this).dialog('close');
                }
            }
        });
        $('.modalOpen').on('click',function(){
            if(windowWidth > 768){
                modal.dialog( "option", "width", "50%" );
            }else if(windowWidth > 400 && windowWidth < 768) {
                modal.dialog( "option", "width", "80%" );
            }else{
                modal.dialog( "option", "width", "90%" );
            }
            modal.dialog('open');
        });
      });
    </script>
  </body>
</html>